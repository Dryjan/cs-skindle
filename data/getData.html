<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
  <script>
    fetch('https://raw.githubusercontent.com/ByMykel/CSGO-API/main/public/api/en/skins.json')
      .then(response => response.json())
      .then(data => {
        const skinsData = data;
        console.log(skinsData);
        let skinsArray = [];
        skinsData.forEach(element => {
          if(!['Gloves', 'Knives', 'Equipment'].includes(element.category.name) && element.name !== 'M4A4 | Howl') {
            const skin = {
              'id': element.id,
              'name': element.name,
              'weapon': element.weapon.name,
              'category': element.category.name,
              'rarity': {
                'name': element.rarity.name,
                'color': element.rarity.color
              },
              'collection': {
                'name': element.collections[0].name,
                'image': element.collections[0].image
              },
              'image': element.image
            }
            skinsArray.push(skin);
          }
        });
        console.log(skinsArray);
        const zawartosc = JSON.stringify(skinsArray);
        const blob = new Blob([zawartosc], { type: 'text/plain' });
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'skins.json';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        window.URL.revokeObjectURL(url);
      })
      .catch(error => console.error('Błąd podczas pobierania JSON:', error));
  </script>
</body>
</html>